{"is_source_file": true, "format": "C++", "description": "Source code for a thread-aware file access tracer and visualizer, utilizing ptrace to monitor system calls, process and thread creation/termination, and file operations, with HTML report generation.", "external_files": ["path_utils.hpp", "directory_tree.hpp", "html_generator.hpp", "logger.hpp"], "external_methods": ["path_utils::normalize_path", "path_utils::is_within_directory", "path_utils::get_current_directory", "HtmlGenerator::generate_html_report", "HtmlGenerator::get_last_error", "Logger::debug", "Logger::error", "Logger::warning", "Logger::info"], "published": ["main"], "classes": [{"name": "ProcessType", "description": "Enum to distinguish between processes and threads."}, {"name": "ThreadInfo", "description": "Structure to store information about a thread or process, including parent/child relationships, name, activity status, and exit status."}, {"name": "FileOperation", "description": "Structure to store details of a file operation, including process/thread IDs, file path, sequence number, and whether it is an actual open."}], "methods": [{"name": "get_thread_name", "description": "Retrieves the thread name from /proc filesystem."}, {"name": "handle_thread_creation", "description": "Handles creation of a new thread or process, updating thread map and parent-child relationships."}, {"name": "handle_thread_exit", "description": "Handles cleanup when a thread or process exits, including recursive cleanup of children and ptrace detachment."}, {"name": "resolve_fd_path", "description": "Resolves the file descriptor path for a given process and fd."}, {"name": "resolve_relative_path", "description": "Resolves relative paths in openat calls based on base directory."}, {"name": "read_process_string", "description": "Reads a null-terminated string from a process's memory via ptrace."}, {"name": "handle_syscall_entry", "description": "Processes system call entry events, handling process/thread creation, exit, and file operations."}, {"name": "generate_html_output", "description": "Generates an HTML report visualizing the file operations and directory structure."}, {"name": "validate_output_file", "description": "Validates that the output file path is writable and the directory exists."}, {"name": "validate_command", "description": "Checks if the specified command exists and is executable."}, {"name": "display_help", "description": "Displays command line help message with usage examples."}], "calls": ["ptrace(PTRACE_DETACH, ...)", "ptrace(PTRACE_PEEKDATA, ...)", "ptrace(PTRACE_GETREGS, ...)", "ptrace(PTRACE_SYSCALL, ...)", "ptrace(PTRACE_SETOPTIONS, ...)", "kill(...)", "waitpid(...)", "stat(...)", "access(...)", "raise(SIGSTOP)", "execvp(...)", "fork()", "WIFEXITED(...)", "WIFSIGNALED(...)", "WEXITSTATUS(...)", "WIFSTOPPED(...)", "kill(...)", "usleep(...)", "getenv(...)"], "search-terms": ["ptrace", "system call monitoring", "thread creation", "file operations", "HTML report generation", "process and thread management", "Linux /proc filesystem", "system call handling", "file descriptor resolution"], "state": 2, "file_id": 16, "knowledge_revision": 68, "git_revision": "752b0fb5cc733008c1ffde3c54134ff699070bc7", "revision_history": [{"50": "06eb75e40164864b88d77b971a4a95be232768ca"}, {"68": "752b0fb5cc733008c1ffde3c54134ff699070bc7"}], "ctags": [], "filename": "src/main.cpp", "format-version": 4, "code-base-name": "https://github.com/Kavia-ai/filetrace.git:kavia-main"}